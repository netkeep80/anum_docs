# Переосмысление форм самозамыканий связи ♂ и ♀

## Введение

Данный документ формализует переосмысление операторов ♂ и ♀ в Метатеории Связей (МТС), рассматривая их не только как конструкторы самозамыканий, но и как операторы извлечения компонентов связи.

## 1. Базовые определения

### 1.1. Связь как фундаментальная единица

Каждая связь `ab` состоит из двух компонентов:
- **Начало** (ссылка) `a` — источник связи
- **Конец** (значение) `b` — цель связи

```
ab ≡ a ⟼ b
```

### 1.2. Оператор ♂ — конец связи (безначальная связь)

**Определение ♂ как формы самозамыкания:**
```
♂v : (♂v ⟼ v)
```

**Онтологическое переосмысление:**
- ♂ определяется как унарный префиксный оператор с самозамкнутым началом
- Самозамкнутое начало означает **отсутствие внешнего начала**
- Следовательно, ♂v — это **безначальная связь**, у которой есть только конец v
- **Смысл ♂**: это **конец связи** (значение)

**Оператор извлечения конца:**
```
♂(ab) ≡ b
```

Применение ♂ к связи `ab` возвращает её конец (значение) `b`.

### 1.3. Оператор ♀ — начало связи (бесконечная связь)

**Определение ♀ как формы самозамыкания:**
```
r♀ : (r ⟼ r♀)
```

**Онтологическое переосмысление:**
- ♀ определяется как унарный постфиксный оператор с самозамкнутым концом
- Самозамкнутый конец означает **отсутствие внешнего конца**
- Следовательно, r♀ — это **бесконечная связь** (без-конечная), у которой есть только начало r
- **Смысл ♀**: это **начало связи** (ссылка)

**Оператор извлечения начала:**
```
(ab)♀ ≡ a
```

Применение ♀ к связи `ab` возвращает её начало (ссылку) `a`.

## 2. Позиционирование операторов

### 2.1. Вопрос префикса/постфикса

**♂ — префиксный оператор:**
- Записывается **до** операнда: `♂ab`
- Извлекает **конец** (значение) связи
- Правоассоциативный: `♂♂v ≡ ♂(♂v)`

**♀ — постфиксный оператор:**
- Записывается **после** операнда: `ab♀`
- Извлекает **начало** (ссылку) связи
- Левоассоциативный: `r♀♀ ≡ (r♀)♀`

### 2.2. Мнемоника позиционирования

```
♂ab = b    (♂ слева → извлекает правый компонент)
ab♀ = a    (♀ справа → извлекает левый компонент)
```

Позиция оператора **противоположна** позиции извлекаемого компонента:
- ♂ стоит в позиции начала → извлекает конец
- ♀ стоит в позиции конца → извлекает начало

## 3. Определение знака инверсии связи ¬

### 3.1. Инверсия через ♂ и ♀

Инверсия связи меняет местами начало и конец:
```
¬(ab) : ♂(ab) ⟼ (ab)♀
```

Что эквивалентно:
```
¬(ab) : b ⟼ a
¬(ab) ≡ ba
```

### 3.2. Формальное определение инверсии

**Аксиома инверсии направленности:**
```
¬(a ⟼ b) : (♂(ab) ⟼ (ab)♀)
¬(a ⟼ b) : (b ⟼ a)
```

**Свойства инверсии:**
- `¬¬(ab) ≡ ab` (инволютивность)
- `¬♂ ≡ ♀` (взаимная выразимость)
- `¬♀ ≡ ♂` (взаимная выразимость)
- `¬∞ ≡ ∞` (акорень инвариантен)

## 4. Приоритет операторов

### 4.1. Таблица приоритетов (от высшего к низшему)

| Приоритет | Оператор | Тип | Ассоциативность |
|-----------|----------|-----|-----------------|
| 1 (высший) | `♂` | Префиксный унарный | Правая |
| 1 | `♀` | Постфиксный унарный | Левая |
| 1 | `¬` | Префиксный унарный | Правая |
| 2 | `⟼` (или `→`) | Бинарный | Левая |
| 3 | `≡`, `≢` | Отношения | — |
| 4 | `:` | Определение | — |
| 5 (низший) | `=` | Аксиоматическое равенство | — |

### 4.2. Примеры разбора с учётом приоритетов

```
♂ab = (♂(ab)) = b
ab♀ = ((ab)♀) = a
♂ab♀ = (♂(ab))♀ = b♀
¬ab = ¬(ab) = ba
♂∞ → ∞♀ = (♂∞) → (∞♀)
```

## 5. Применение к абитам

### 5.1. Переопределение абитов через новую семантику

С учётом нового понимания ♂ и ♀ как операторов извлечения:

```
( : ♂∞       — начало смысла (конец, ведущий к ∞)
) : ∞♀       — конец смысла (начало, исходящее из ∞)
+ : ♂∞ ⟼ ∞♀ — наличие связи (от конца к началу ∞)
¬ : ∞♀ ⟼ ♂∞ — отсутствие связи (от начала к концу ∞)
```

### 5.2. Верификация определений

```
♂(♂∞ ⟼ ∞♀) = ∞♀     — конец связи +
(♂∞ ⟼ ∞♀)♀ = ♂∞     — начало связи +
¬(♂∞ ⟼ ∞♀) = ∞♀ ⟼ ♂∞ — инверсия + есть ¬
```

## 6. Теоремы

### 6.1. Теорема об извлечении компонентов

**Утверждение:**
```
♂(a ⟼ b) ≡ b
(a ⟼ b)♀ ≡ a
```

**Доказательство:**
1. По определению связи: `ab ≡ a ⟼ b`
2. По определению ♂: `♂v ≡ ♂v ⟼ v`, где `♂v` — безначальная связь с концом v
3. Применяя ♂ к связи `ab`: `♂(ab)` извлекает её конец, т.е. `b`
4. Аналогично для ♀: `(ab)♀` извлекает начало, т.е. `a`

### 6.2. Теорема о взаимной выразимости

**Утверждение:**
```
♂x ≡ ¬(x♀)
x♀ ≡ ¬(♂x)
```

**Доказательство:**
1. По определению: `♂x ≡ ♂x ⟼ x`
2. По аксиоме инверсии: `¬(r ⟼ r♀) ≡ r♀ ⟼ r`
3. Для `x♀`: `x♀ ≡ x ⟼ x♀`
4. Инвертируя: `¬(x♀) ≡ ¬(x ⟼ x♀) ≡ x♀ ⟼ x`
5. Но `♂x ≡ ♂x ⟼ x`, и если `♂x` играет роль `x♀` в инверсии, то `¬(x♀) ≡ ♂x`

### 6.3. Теорема о композиции извлечений

**Утверждение:**
```
♂(a ⟼ ♂(b ⟼ c)) ≡ c
((a ⟼ b)♀ ⟼ c)♀ ≡ a
```

**Доказательство:**
1. `♂(b ⟼ c) ≡ c` (по теореме 6.1)
2. `♂(a ⟼ c) ≡ c` (подстановка)

## 7. Замечания для чистовика МТС

Согласно требованиям из issue #3:

1. **Именование аксиом**: Каждый символ (♂, ♀, ¬, :, =, →, ∞) имеет свою аксиому с названием, которое определяет его смысл.

2. **Содержательно-онтологическое определение**: Последовательное прочтение формулы через названия аксиом символов.

3. **Логическая последовательность**: Аксиомы следуют от фундаментальных к производным:
   - ∞ (акорень) → ♂, ♀ (самозамыкания) → → (связь) → ¬ (инверсия)

4. **Использование ':'**: Знак определения `:` вводит новые символы.

5. **Использование '='**: Знак равенства `=` для аксиомы равенства связей по смыслу.

6. **Терминология**:
   - «роль» → «смысл»
   - «ссылка/значение» → «начало/конец»
   - «различие» → «смысл»

7. **Оператор формальной нотации МТС**: Оператор — это знак формальной нотации МТС, определяющий форму связи или действие над связями.

8. **Метаязык**: Формальная нотация МТС — это метаязык, вводящий символы для описания форм связей и их свойств.

9. **Ачисло**: Уникальный идентификатор связи, используемый как ссылка на связь.

10. **Знак ¬**: Знак инверсии направления связи (не использовать минус `-` для инверсии в формулах).

11. **Определение абитов через ♂ и ♀**:
    ```
    '(' : ♂∞ → ∞
    ')' : ∞ → ∞♀
    '1' : ♂∞ → ∞♀
    '0' : ∞♀ → ♂∞
    ```

## 8. Заключение

Переосмысление операторов ♂ и ♀ как операторов извлечения компонентов связи (конца и начала соответственно) обеспечивает:

1. **Интуитивную семантику**: ♂ab = b, ab♀ = a — чёткие правила извлечения
2. **Естественное определение инверсии**: ¬ab = ♂ab → ab♀ = b → a
3. **Согласованность с существующими аксиомами**: Новая интерпретация не противоречит, а дополняет существующую систему
4. **Онтологическую чистоту**: Все операции выражаются через связи

Данное переосмысление расширяет выразительные возможности МТС, сохраняя её фундаментальные принципы.
